<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="ed351fc9-5eb6-4827-91b3-db7aa37feb24" created="2.7.0" activeEnvironment="Default environment" name="REST_OAUTH2_Example" resourceRoot="" updated="2.7.0 2019-05-30T13:25:24Z" encryptionMode="Not encrypted" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="36105dae-23cb-4d77-84fe-527830d0f50f" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://localhost:9091" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://localhost:9091</con:endpoint></con:endpoints><con:resource name="Message" path="/api/message" id="16520bb2-18e2-4773-a3c4-98a2903b7f0c"><con:settings/><con:parameters/><con:method name="Message" id="1d526d32-cd71-47cc-bc4e-22991ad1b87f" method="GET"><con:settings/><con:parameters><con:parameter required="true"><con:name>access_token</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:mes="http://localhost/api/message">mes:Response</con:element></con:representation><con:request name="Request 1" id="0170d0e8-2d2c-480a-a524-5928cb4ecbc9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:9091</con:endpoint><con:request/><con:originalUri>http://localhost/api/message</con:originalUri><con:credentials><con:selectedAuthProfile>SmartBytes</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="access_token" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:request><con:request name="Request2" id="0170d0e8-2d2c-480a-a524-5928cb4ecbc9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Username" value="admin"/>
  &lt;con:entry key="Password" value="admin"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://localhost:9091</con:endpoint><con:request/><con:originalUri>http://localhost/api/message</con:originalUri><con:credentials><con:selectedAuthProfile>SmartBytes</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="access_token" value="8c45896a-9f43-4d62-8169-a79124fafd46" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="3083ba2a-17e2-45b1-93a2-5949f9e5a657" name="TestSuite: TS01_OUTH2"><con:settings/><con:savedRecentRuns>1</con:savedRecentRuns><con:runType>SEQUENTIAL</con:runType><con:testCase id="679ef056-b7b8-4730-af73-4a8f29e37195" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="TC01_message_api_request_generating_token_in_request" searchProperties="true" timeout="0"><con:settings/><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="restrequest" name="message_reuquest_with_generated_token" id="eb261ce9-baf6-4eae-b2c9-885e6972cc2a"><con:settings/><con:config service="http://localhost:9091" resourcePath="/api/message" methodName="Message" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="message_reuquest_with_generated_token" id="0170d0e8-2d2c-480a-a524-5928cb4ecbc9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:9091</con:endpoint><con:request/><con:originalUri>http://localhost/api/message</con:originalUri><con:credentials><con:selectedAuthProfile>SmartBytes</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="access_token" value="" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:testCase id="67e12a32-d716-45c8-9f05-bccc78fe5f17" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="TC02_message_api_request_reading_token" searchProperties="true" timeout="0"><con:settings/><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="restrequest" name="message_request_token_in_query_parameter" id="47fd6dac-b384-4869-ad89-14c0b052a78f"><con:settings/><con:config service="http://localhost:9091" resourcePath="/api/message" methodName="Message" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="message_request_token_in_query_parameter" id="0170d0e8-2d2c-480a-a524-5928cb4ecbc9" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Username" value="admin"/>
  &lt;con:entry key="Password" value=""/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>http://localhost:9091</con:endpoint><con:request/><con:originalUri>http://localhost/api/message</con:originalUri><con:credentials><con:selectedAuthProfile>SmartBytes</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:parameters><entry key="access_token" value="8c45896a-9f43-4d62-8169-a79124fafd46" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>access_token</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/><con:reportParameters/></con:testCase><con:properties/><con:reportParameters/></con:testSuite><con:savedRecentRuns>1</con:savedRecentRuns><con:requirements/><con:properties/><con:wssContainer/><con:databaseConnectionContainer/><con:jmsConnectionContainer/><con:oAuth2ProfileContainer><con:oAuth2Profile><con:name>SmartBytes</con:name><con:type>OAuth 2.0</con:type><con:accessTokenURI>http://localhost:9091/api/oauth/token</con:accessTokenURI><con:accessToken>8c45896a-9f43-4d62-8169-a79124fafd46</con:accessToken><con:accessTokenPosition>HEADER</con:accessTokenPosition><con:accessTokenStartingStatus>RETRIEVED_FROM_SERVER</con:accessTokenStartingStatus><con:accessTokenIssuedTime>1562574964</con:accessTokenIssuedTime><con:clientID>smartbytes</con:clientID><con:resourceOwnerName>admin</con:resourceOwnerName><con:resourceOwnerPassword>admin</con:resourceOwnerPassword><con:clientSecret>secret</con:clientSecret><con:oAuth2Flow>RESOURCE_OWNER_PASSWORD_CREDENTIALS</con:oAuth2Flow><con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod><con:refreshToken>4b04db93-0920-4781-aaac-e2feb8d50ccd</con:refreshToken><con:scope>read</con:scope><con:accessTokenExpirationTime>9999</con:accessTokenExpirationTime><con:jwtConfiguration/><con:responseType>id_token</con:responseType></con:oAuth2Profile></con:oAuth2ProfileContainer><con:oAuth1ProfileContainer/><con:reporting><con:reportTemplates/><con:xmlTemplates/><con:xmlTemplates/><con:parameters/><con:parameters/></con:reporting><con:reporting/><con:eventHandlers type="RequestFilter.filterRequest" name="RequestFilter.filterRequest"><con:script>// Sample event script to add custom HTTP header to all outgoing REST, SOAP and HTTP(S) calls
// This code is often used for adding custom authentication to SoapUI Pro tests

// If hardcoding the token, uncomment and change line 5
// def token = '4567'

// If your token is parameterized in Project level custom property, uncomment line 8
// def token = request.parent.testCase.testSuite.project.getProperty('auth_token').getValue()

// To modify all outgoing calls, remove comments from lines 11 to 16
// def headers = request.requestHeaders
// if (headers.containsKey('auth_token2') == false) {
//   headers.put('auth_token2', token)
//   request.requestHeaders = headers
// }</con:script></con:eventHandlers><con:eventHandlers type="TestRunListener.afterStep" name="TestRunListener.afterStep"><con:script>// Save all test step results into files
// Change the directory path in line 5 to a location where you want to store details
// then uncomment lines 5 to 10

// filePath = 'C:\\tempOutputDirectory\\'
// fos = new FileOutputStream(filePath + testStepResult.testStep.label + '.txt', true)
// pw = new PrintWriter(fos)
// testStepResult.writeTo(pw)
// pw.close()
// fos.close()</con:script></con:eventHandlers><con:authRepository><con:oAuth20AuthEntry><con:name>SmartBytes</con:name><con:type>OAuth 2.0</con:type><con:accessTokenURI>http://localhost:9091/api/oauth/token</con:accessTokenURI><con:accessToken>8c45896a-9f43-4d62-8169-a79124fafd46</con:accessToken><con:accessTokenPosition>HEADER</con:accessTokenPosition><con:accessTokenStartingStatus>RETRIEVED_FROM_SERVER</con:accessTokenStartingStatus><con:accessTokenIssuedTime>1562574964</con:accessTokenIssuedTime><con:clientID>smartbytes</con:clientID><con:resourceOwnerName>admin</con:resourceOwnerName><con:resourceOwnerPassword>admin</con:resourceOwnerPassword><con:clientSecret>secret</con:clientSecret><con:oAuth2Flow>RESOURCE_OWNER_PASSWORD_CREDENTIALS</con:oAuth2Flow><con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod><con:refreshToken>4b04db93-0920-4781-aaac-e2feb8d50ccd</con:refreshToken><con:scope>read</con:scope><con:accessTokenExpirationTime>9999</con:accessTokenExpirationTime><con:jwtConfiguration/><con:responseType>id_token</con:responseType></con:oAuth20AuthEntry></con:authRepository><con:tags/></con:soapui-project>